<!doctype html>
<html ng-app="myApp">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
    <script src="story.js"> </script>
  </head>
  <body>
    <h2>Story Board</h2>
    <div ng-controller="StoryCtrl">
      <div ng-repeat="stage in stages">
        <h3>{{stage.name}}</h3>
        <ul>
          <li ng-repeat="story in stories | filter:{stage_id:stage.id}">
            {{story.title}}({{story.points}}) - {{story.description}}
            <button ng-click="move(story)">move</button>
          </li>
        </ul>
      </div>
      <h2>Create Story</h2>
      <form ng-submit="addstory()">
        <label>title:</label>
        <input type ="text" ng-model ="newstory.title">
        <label>description:</label>
        <input type ="text" ng-model ="newstory.description">
        <label>points:</label>
        <input type ="text" ng-model ="newstory.points">
        <button>add story</button>
      </form>
  </div>

  <div ng-controller="StageCtrl">
    <h2>Create Stage</h2>
    <form ng-submit="addStage()">
      <label>name:</label>
      <input type ="text" ng-model ="stagename">
      <button>add stage</button>
    </form>
  </div>
  </body>
</html>
